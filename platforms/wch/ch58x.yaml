- match:
    variant: 1
  mem:
    flash:
      origin: 0x0
      size: 192k

    ram:
      origin: 0x20000000
      size: 32K

- mem:
    flash:
      origin: 0x0
      size: 448k

    ram:
      origin: 0x20000000
      size: 32k

  periph:
    # Nothing like an stm32 flash, this is really a view of "system control"
    ch58x_flash:
      FLASH:
        offset: 0x40001040

    ch58x_gpio:
      GPIO:
        offset: 0x40001018

    pfic:
      PFIC:
        offset: 0xE000E000

    x16550_uart:
      UART0:
        offset: 0x40003000
      UART1:
        offset: 0x40003400
      UART2:
        offset: 0x40003800
      UART3:
        offset: 0x40003c00

    # Not actually "RCC" at all, but this lets us use same infrastructure...
    rcc:
      RCC:
        offset: 0x40001008
        type: ch58x
        bus:
          SLPCLK:
            UART3: 15
            UART2: 14
            UART1: 13
            UART0: 12
            TIMER3: 11
            TIMER2: 10
            TIMER1: 9
            TIMER0: 8
            BLE: 7
            USB2: 5
            USB1: 4
            I2C: 3
            PWM: 2
            SPI1: 1
            SPI0: 0


  interrupt:
    irq:
      12: SysTick
      14: SWI
      16: TMR0
      17: GPIOA
      18: GPIOB
      19: SPI0
      20: BLE_LLE
      21: BLE_BB
      22: USB1
      23: USB2
      24: TMR1
      25: TMR2
      26: UART0
      27: UART1
      28: RTC
      29: ADC1
      30: I2C1
      31: PWMX_SPI1
      32: TMR3
      33: UART2
      34: UART3
      35: WDOG_BAT

  define:
    - CH58x

  meta:
    cpu: rv-wch-v4
